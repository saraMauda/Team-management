<div class="my-projects-container" *ngIf="!loading; else loadingTpl">
  <h2 class="title">My Projects</h2>

  <div *ngIf="error" class="error-msg">{{ error }}</div>

  <div class="projects-grid" *ngIf="projects.length > 0; else noProjectsTpl">
    <div class="project-card" *ngFor="let p of projects">
      <h3>{{ p.name }}</h3>
      <p class="desc">{{ p.description || 'No description available.' }}</p>

      <div class="progress-bar">
        <div
          class="progress"
          [style.width.%]="p.progress"
          [style.background]="getProgressColor(p.progress)"
        ></div>
      </div>

      <div class="details">
        <div><strong>Status:</strong> {{ p.status }}</div>
        <div><strong>Start Date:</strong> {{ p.startDate | date:'mediumDate' }}</div>
        <div><strong>End Date:</strong> {{ p.endDate | date:'mediumDate' }}</div>
      </div>
    </div>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loading">Loading your projects...</div>
</ng-template>

<ng-template #noProjectsTpl>
  <div class="no-projects">You are not assigned to any projects yet.</div>
</ng-template>
